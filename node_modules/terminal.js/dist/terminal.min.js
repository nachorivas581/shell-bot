!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Terminal=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=a("./lib/terminal.js"),b.exports.TermState=a("./lib/term_state.js"),b.exports.TermDiff=a("./lib/term_diff.js"),b.exports.output={PlainOutput:a("./lib/output/plain.js"),AnsiOutput:a("./lib/output/ansi.js"),TtyOutput:a("./lib/output/tty.js"),HtmlOutput:a("./lib/output/html.js"),DomOutput:a("./lib/output/dom.js")},b.exports.source={EmitterSource:a("./lib/source/emitter.js")},b.exports.input={DomInput:a("./lib/input/dom.js"),TtyInput:a("./lib/input/tty.js")}},{"./lib/input/dom.js":10,"./lib/input/tty.js":11,"./lib/output/ansi.js":12,"./lib/output/dom.js":14,"./lib/output/html.js":15,"./lib/output/plain.js":17,"./lib/output/tty.js":18,"./lib/source/emitter.js":20,"./lib/term_diff.js":21,"./lib/term_state.js":22,"./lib/terminal.js":23}],2:[function(a,b,c){"use strict";var d={"":function(a,b){this.emit("bell")},"\b":function(a,b){this.state.mvCursor(-1,0)},"\t":function(a,b){this.state.mvTab(1)},"":function(a,b){this.state.removeChar(1)},"":function(a,b){this.state.setTab()},"":function(){this.state.mapCharset("G1")},"":function(){this.state.mapCharset("G0")},"":function(a,b){return void 0!==b[1]?this.callHandler("esc",b[1],b):0},"\r":function(a,b){this.state.setCursor(0,null)}};b.exports=d},{}],3:[function(a,b,c){"use strict";var d={"@":function(a,b,c,d,e){this.state.insertBlank(b||1)},A:function(a,b,c,d,e){this.state.mvCursor(0,-(b||1))},B:function(a,b,c,d,e){this.state.mvCursor(0,b||1)},C:function(a,b,c,d,e){this.state.mvCursor(b||1,0)},D:function(a,b,c,d,e){this.state.mvCursor(-(b||1),0)},E:function(a,b,c,d,e){this.state.mvCursor(0,b||1).setCursor(0,null)},F:function(a,b,c,d,e){this.state.mvCursor(0,-b||1).setCursor(0,null)},G:function(a,b,c,d,e){this.state.setCursor((b||1)-1)},H:function(a,b,c,d,e){this.state.setCursor((c||1)-1,(b||1)-1)},I:function(a,b,c,d,e){this.state.mvTab(b||1)},J:function(a,b,c,d,e){this.state.eraseInDisplay(b||0)},K:function(a,b,c,d,e){this.state.eraseInLine(b||0)},L:function(a,b,c,d,e){this.state.insertLine(b||1)},M:function(a,b,c,d,e){this.state.removeLine(b||1)},P:function(a,b,c,d,e){this.state.removeChar(b||1)},R:function(a,b,c,d,e){},S:function(a,b,c,d,e){this.state.scroll(b||1)},T:function(a,b,c,d,e){d.length<=1&&this.state.scroll(-b||-1)},X:function(a,b,c,d,e){this.state.eraseCharacters(b||1)},Z:function(a,b,c,d,e){this.state.mvTab(-(b||1))},a:function(a,b,c,d,e){this.state.mvCursor(b||1,0)},b:function(a,b,c,d,e){},c:function(a,b,c,d,e){this.emit("request",">0;95;c")},d:function(a,b,c,d,e){this.state.setCursor(null,(b||1)-1)},e:function(a,b,c,d,e){this.state.mvCursor(0,b||1)},f:function(a,b,c,d,e){this.state.setCursor((c||1)-1,(b||1)-1)},g:function(a,b,c,d,e){this.state.tabClear(b||0)},h:function(a,b,c,d,e){var f;for(f=0;f<d.length;f++)this.callHandler("mode",e+d[f],!0)},i:function(a,b,c,d,e){},l:function(a,b,c,d,e){var f;for(f=0;f<d.length;f++)this.callHandler("mode",e+d[f],!1)},m:function(a,b,c,d,e){var f;if(5===d[1]&&38===d[0])this.state.setAttribute("fg",d[2]);else if(5===d[1]&&48===d[0])this.state.setAttribute("bg",d[2]);else{for(f=0;f<d.length;f++)this.callHandler("sgr",d[f]);0===f&&this.callHandler("sgr",0)}},n:function(a,b,c,d,e){},p:function(a,b,c,d,e){},q:function(a,b,c,d,e){0===b?this.state.resetLeds():this.state.ledOn(b-1)},r:function(a,b,c,d,e){this.state.setScrollRegion((b||1)-1,(c||this.state.rows)-1)},s:function(a,b,c,d,e){this.state.saveCursor()},t:function(a,b,c,d,e){},u:function(a,b,c,d,e){this.state.restoreCursor()},v:function(a,b,c,d,e){},w:function(a,b,c,d,e){},x:function(a,b,c,d,e){},y:function(a,b,c,d,e){},z:function(a,b,c,d,e){},"`":function(a,b,c,d,e){this.state.setCursor((b||1)-1)},"{":function(a,b,c,d,e){},"|":function(a,b,c,d,e){},"}":function(a,b,c,d,e){},"~":function(a,b,c,d,e){}};b.exports=d},{}],4:[function(a,b,c){"use strict";b.exports={}},{}],5:[function(a,b,c){"use strict";var d={c:function(a,b){return this.state.reset(),2},D:function(a,b){return this.state.nextLine(),2},E:function(a,b){return this.state.nextLine().setCursor(0),2},H:function(a,b){return this.state.setTab(),2},M:function(a,b){return this.state.prevLine(),2},N:function(a,b){return this.state.mapCharset("G2",!0),2},O:function(a,b){return this.state.mapCharset("G3",!0),2},P:function(a,b){var c=this.parseDcs(b);if(null===c||""===c.cmd)return 0;if(c.length!==b.length&&""===c.cmd)return 1;this.callHandler("dcs",c.cmd,+c.args[0],+c.args[1],c.args,c.mod);return c.length},Q:function(a,b){return 2},R:function(a,b){return 2},S:function(a,b){return 2},T:function(a,b){return 2},U:function(a,b){return 2},V:function(a,b){return 2},W:function(a,b){return 2},X:function(a,b){return 2},Y:function(a,b){return 2},Z:function(a,b){return 2},n:function(a,b){return this.state.mapCharset("G2"),2},o:function(a,b){return this.state.mapCharset("G3"),2},7:function(a,b){return this.state.saveCursor(),2},8:function(a,b){return this.state.restoreCursor(),2},"|":function(a,b){return 2},"[":function(a,b){var c=this.parseCsi(b);if(null===c||""===c.cmd)return 0;if(c.length!==b.length&&""===c.cmd)return 1;this.callHandler("csi",c.cmd,+c.args[0],+c.args[1],c.args,c.mod);return c.length},"\\":function(a,b){return 2},"]":function(a,b){var c=this.parseOsc(b);if(null===c||!1===c.terminated)return 0;if(c.length!==b.length&&!1===c.terminated)return 1;this.callHandler("osc",c.cmd,c.args);return c.length},"^":function(a,b){return 2},_:function(a,b){return 2},"%":function(a,b){return void 0===b[2]?0:(this.state.selectCharset("unicode"),3)},"}":function(a,b){return 2},"~":function(a,b){return 2},"(":"/",")":"/","*":"/","+":"/","-":"/",".":"/","/":function(a,b){var c={"(":"G0",")":"G1","*":"G2","+":"G3","-":"G1",".":"G2","/":"G3"};if(void 0===b[2])return 0;if("%"===b[2]&&void 0===b[3])return 0;var d="0"===b[2]?"graphics":"unicode";return this.state.selectCharset(d,c[b[1]]),"%"===b[2]?4:3},"#":function(a,b){if(void 0===b[2])return 0;var c=this.state.getLine();switch(b[2]){case"3":c.attr.doubleheight="top";break;case"4":c.attr.doubleheight="bottom";break;case"5":delete c.attr.doubleheight,delete c.attr.doublewidth;break;case"6":c.attr.doublewidth=!0}return this.state.setLine(c),3},g:function(a,b){return this.emit("bell",!0),2},"<":function(a,b){return 2},">":function(a,b){return this.state.setMode("appKeypad",!1),2},"=":function(a,b){return this.state.setMode("appKeypad",!0),2}};b.exports=d},{}],6:[function(a,b,c){"use strict";var d={1:function(a,b){this.state.setMode("appKeypad",b)},4:function(a,b){this.state.setMode("insert",b)},"?5":function(a,b){this.state.setMode("reverse",b)},7:function(a,b){this.state.setMode("wrap",b)},"?12":function(a,b){this.state.setMode("cursorBlink",b)},20:function(a,b){this.state.setMode("crlf",b)},"?25":function(a,b){this.state.setMode("cursor",b)},"?47":function(a,b){this.state.switchBuffer(b)},"?1000":function(a,b){this.state.setMode("mousebtn",b)},"?1002":function(a,b){this.state.setMode("mousemtn",b)},"?1006":function(a,b){this.state.setMode("mousesgr",b)},"?1047":function(a,b){this.state.switchBuffer(b)},"?1048":function(a,b){b?this.state.saveCursor():this.state.restoreCursor()},"?1049":function(a,b){this.callHandler("mode","1048",b),this.callHandler("mode","1047",b),b&&this.state.setCursor(0,0)}};b.exports=d},{}],7:[function(a,b,c){"use strict";function d(a){var b=arguments;return function(c,d){var e=Array.prototype.slice(b,1);e.unshift(d),this.emit.apply(a,e)}}function e(a){return function(b,c){this.state.setMeta(a,c)}}var f={0:"bold",1:"underline",2:"blink",3:"reverse"},g={"":"0",0:function(a,b){this.state.setMeta("title",b[0]),this.state.setMeta("icon",b[0])},1:e("icon"),2:e("title"),3:function(){},4:function(a,b){b=b.split(";"),this.emit("colorchange",b[0],b[1])},5:function(a,b){b=b.split(";"),this.emit("colorchange",f[b[0]],b[1])},10:d("colorchange","fg"),11:d("colorchange","bg"),12:d("colorchange","cursor"),13:d("colorchange","mousefg"),14:d("colorchange","mousebg"),15:d("colorchange","tektronixfg"),16:d("colorchange","tektronixbg"),17:d("colorchange","highlightbg"),18:d("colorchange","tektronixhighlight"),19:d("colorchange","highlightfg"),46:d("logfilechange"),50:d("fontchange"),51:d("emacs"),52:function(){},104:function(a,b){this.emit("colorreset",b)},105:function(a,b){this.emit("colorreset",f[b])},110:d("colorreset","fg"),111:d("colorreset","bg"),112:d("colorreset","cursor"),113:d("colorreset","mousefg"),114:d("colorreset","mousebg"),115:d("colorreset","tektronixfg"),116:d("colorreset","tektronixbg"),117:d("colorreset","highlightbg"),118:d("colorreset","tektronixhighlight"),119:d("colorreset","highlightfg")};b.exports=g},{}],8:[function(a,b,c){"use strict";function d(a,b){return function(){this.state.setAttribute(a,b)}}var e={0:function(a){this.state.resetAttribute()},1:d("bold",!0),2:function(a){},3:d("italic",!0),4:d("underline",!0),5:"6",6:d("blink",!0),7:d("inverse",!0),8:function(a){},9:function(a){},20:function(a){},21:function(a){},22:d("bold",!1),23:d("italic",!1),24:d("underline",!1),25:d("blink",!1),27:d("inverse",!1),30:"37",31:"37",32:"37",33:"37",34:"37",35:"37",36:"37",37:function(a){this.state.setAttribute("fg",+a-30)},38:function(a){},39:function(a){this.state.resetAttribute("fg")},40:"47",41:"47",42:"47",43:"47",44:"47",45:"47",46:"47",47:function(a){this.state.setAttribute("bg",+a-40)},48:function(a){},49:function(a){this.state.resetAttribute("bg")},51:function(a){},52:function(a){},53:function(a){},90:"97",91:"97",92:"97",93:"97",94:"97",95:"97",96:"97",97:function(a){this.state.setAttribute("fg",+a-90+8)},100:"107",101:"107",102:"107",103:"107",104:"107",105:"107",106:"107",107:function(a){this.state.setAttribute("bg",+a-100+8)}};b.exports=e},{}],9:[function(a,b,c){"use strict";function d(a,b){d.super_.apply(this,arguments);var c=arguments[Math.max(1,arguments.length-1)];this.target=a,this.buffer=b,this._appKeypad=!1;this._opts=g.extend({},this._defOpts,c)}var e=a("stream"),f=a("util"),g=a("../util.js");f.inherits(d,e.Readable),d.prototype.getKey=function(a){var b=this.buffer.getMode("appKeypad")?"O":"[";switch(a){case"up":b+="A";break;case"down":b+="B";break;case"right":b+="C";break;case"left":b+="D"}return b},d.prototype._read=function(){},b.exports=d},{"../util.js":24,stream:47,util:51}],10:[function(a,b,c){"use strict";function d(a,b,c){d.super_.apply(this,arguments),a.tabIndex=0,this._addListener(this.target,"keypress",this._keypress),this._addListener(this.target,"keydown",this._keydown),this._addListener(this.target,"paste",this._paste),this._addListener(this.target,"contextmenu",this._contextmenu),this._addListener(this.target,"click",this._click),this._addListener(this.target,"mousemove",this._mousemove)}a("../util");(0,a("util").inherits)(d,a("./base")),b.exports=d,d.prototype._addListener=function(a,b,c){var d=this,e=function(a){return a=a||window.event,c.call(d,a)};a.addEventListener?a.addEventListener(b,e):a["on"+b]=e},d.prototype.getKeyCode=function(a){return a?a.charCode?a.charCode:a.which?a.which:a.keyCode:void 0},d.prototype._mousemove=function(a){},d.prototype._click=function(a){this.target.contentEditable=!1},d.prototype._cancelEvent=function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),this.target.contentEditable=!1,!1},d.prototype._contextmenu=function(a){this.target.contentEditable=!0},d.prototype._paste=function(a){return this.push(a.clipboardData.getData("text/plain")),this._cancelEvent(a)},d.prototype._keypress=function(a){var b=this.getKeyCode(a);if(b&&!a.ctrlKey&&!a.altKey&&!a.metaKey)return this.push(String.fromCharCode(b)),this.target.contentEditable=!1,this._cancelEvent(a)},d.prototype._keydown=function(a){var b,c=this.getKeyCode(a);if(!(a.ctrlKey&&a.shiftKey||a.metaKey)){switch(c){case 8:if(a.shiftKey){b="\b";break}b="";break;case 9:if(a.shiftKey){b="[Z";break}b="\t";break;case 13:b="\r";break;case 27:b="";break;case 37:b=this.getKey("left");break;case 39:b=this.getKey("right");break;case 38:b=this.getKey("up");break;case 40:b=this.getKey("down");break;case 46:b="[3~";break;case 45:b="[2~";break;case 36:b="OH";break;case 35:b="OF";break;case 33:b="[5~";break;case 34:b="[6~";break;case 112:b="OP";break;case 113:b="OQ";break;case 114:b="OR";break;case 115:b="OS";break;case 116:b="[15~";break;case 117:b="[17~";break;case 118:b="[18~";break;case 119:b="[19~";break;case 120:b="[20~";break;case 121:b="[21~";break;case 122:b="[23~";break;case 123:b="[24~";break;default:a.ctrlKey?c>=65&&c<=90?b=String.fromCharCode(c-64):32===c?b=String.fromCharCode(0):c>=51&&c<=55?b=String.fromCharCode(c-51+27):56===c?b=String.fromCharCode(127):219===c?b=String.fromCharCode(27):221===c&&(b=String.fromCharCode(29)):a.altKey&&(c>=65&&c<=90?b=""+String.fromCharCode(c+32):192===c?b="`":c>=48&&c<=57&&(b=""+(c-48)))}return void 0!==b?(this.target.contentEditable=!1,this.push(b),this._cancelEvent(a)):void 0}},d.canHandle=a("../output/dom.js").canHandle},{"../output/dom.js":14,"../util":24,"./base":9,util:51}],11:[function(a,b,c){"use strict";function d(a,b,c){d.super_.apply(this,arguments);var e=this;this.target.stdout&&(this.target=this.target.stdout),this.target.on("readable",function(){e.doread()})}a("../util");(0,a("util").inherits)(d,a("./base")),b.exports=d;d.prototype.doread=function(){var a=this.target.read().toString();this.appKeypad&&(a=a.replace(/\x1b\[([0-9;]*[ABCD])/g,"O$1")),this.push(a)},d.canHandle=function(a){return a.stdin&&(a=a.stdin),"object"==typeof a&&"read"in a&&"on"in a&&a.isTTY}},{"../util":24,"./base":9,util:51}],12:[function(a,b,c){"use strict";function d(a,b){d.super_.apply(this,arguments)}var e=a("../util");(0,a("util").inherits)(d,a("./base.js")),b.exports=d,d.prototype._mkSgr=function(a,b){var c="",d=b&&b.$cursor;c+=!0===a.bold?";1":";22",c+=!0===a.italic?";3":";23",c+=!0===a.underline?";4":";24",c+=!0===a.blink?";5":";25",c+=!0===a.inverse||d&&!0!==a.inverse?";7":";27";var e=a.fg,f=a.bg;return e&&(c+=e<8?";"+(+e+30):e<16?";"+(+e+90-8):";38;5;"+e),f&&(c+=f<7?";"+(+f+30):f<16?";"+(+f+100-8):";48;5;"+f),"["+c.substr(1)+"m"},d.prototype._renderLine=function(a,b){var c,d,f,g="",h=a.str;for(null!==a.attr[h.length].bg?h+=e.repeat(" ",this.state.colums-h.length):void 0!==b&&(h+=e.repeat(" ",b+1-h.length)),c=0;c<h.length;){if(d=c++,d in a.attr&&(f=a.attr[d]),b!==d)for(;c<h.length&&!(c in a.attr)&&b!==c;)c++;g+=this._mkSgr(f,{$cursor:b===d})+h.substring(d,c)}return g},d.prototype.toString=function(){for(var a="",b=this.state.cursor,c=0;c<this.state.rows;c++){var d=this.state.getLine(c);a+="\n"+this._renderLine(d,b.y===c?b.x:null)}return a.substr(1)+"[0m"},d.canHandle=function(a){return"ansi"===a}},{"../util":24,"./base.js":13,util:51}],13:[function(a,b,c){"use strict";function d(a){var b=arguments[Math.max(1,arguments.length-1)];this.state=a,this._opts=e.extend({},this._defOpts,b)}var e=a("../util.js");b.exports=d,d.prototype.toString=function(){throw new Error("toString is not implemented!")}},{"../util.js":24}],14:[function(a,b,c){"use strict";function d(a,b,c,e){this.html=new g(a,e),c.innerHTML="<div style='visibility:hidden;'></div>",this.spacer=c.firstChild,this.cursorView=null,d.super_.apply(this,arguments),this._opts.adhesiveCursor=!0}var e=a("../util"),f=a("util").inherits,g=a("./html.js");f(d,a("./live_base.js")),b.exports=d,d.prototype.createView=function(){var a=this.target.ownerDocument.createElement("div");return a.style.overflow="hidden",a},d.prototype.removeLine=function(a,b){return this.target.removeChild(b)},d.prototype.changeLine=function(a,b,c,d){b.innerHTML=this.html._renderLine(c,d)},d.prototype.insertLine=function(a,b,c,d){return b.innerHTML=this.html._renderLine(c,d),this.target.insertBefore(b,this.target.childNodes[a]),b},d.prototype.changeLed=function(a,b,c,d){},d.prototype.setCursor=function(a,b){},d.prototype.resize=function(a){this.target.lastChild.innerHTML=this.html._genColumnsString()},d.prototype.commit=function(){var a=this.state.rows-this.state.getBufferRowCount(),b=e.repeat("<br />",a)+"<div style='line-height:0'>"+e.repeat("&nbsp;",this.state.columns)+"</div>";this.spacer.innerHTML=b,this.spacer.lineHeight=0===a?"0":"inherit"},d.canHandle=function(a){return null!==a&&"object"==typeof a&&"ownerDocument"in a}},{"../util":24,"./html.js":15,"./live_base.js":16,util:51}],15:[function(a,b,c){"use strict";function d(a,b){d.super_.apply(this,arguments)}var e=a("../util");(0,a("util").inherits)(d,a("./base")),b.exports=d,d.prototype._defOpts={cssClass:!1,cursorBg:"#00ff00",cursorFg:"#ffffff"},d.prototype.colors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],d.prototype.colors=function(){function a(a){return a=a.toString(16),a.length<2?"0"+a:a}function b(b,c,d){e.push("#"+a(b)+a(c)+a(d))}var c,e=d.prototype.colors,f=[0,95,135,175,215,255];for(c=0;c<216;c++)b(f[c/36%6|0],f[c/6%6|0],f[c%6]);for(c=0;c<24;c++)f=8+10*c,b(f,f,f);return e}(),d.prototype._cssPrefix=function(a){return a+"-webkit-"+a+"-moz-"+a+"-ms-"+a},d.prototype._mkCssProperties=function(a){var b="";return a?(a.fg&&(b+=(a.inverse?"background":"color")+":"+this.colors[a.fg]+";"),a.bg&&(b+=(a.inverse?"color":"background")+":"+this.colors[a.bg]+";"),a.bold&&(b+="font-weight:bold;"),a.italic&&(b+="font-style:italic;"),(a.underline||a.blink)&&(b+="text-decoration:"+(a.underline?"underline ":"")+(a.blink?"blink;":";")),(a.doublewidth||a.doubleheight)&&(b+=this._cssPrefix("transform:"+(a.doublewidth?"scaleX(2) ":"")+(a.doubleheight?"scaleY(2);":";")),b+=this._cssPrefix("transform-origin:left "+(a.doubleheight||"")+";")),b):""};d.prototype.escapeHtml=function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;")},d.prototype._mkAttr=function(a,b,c){if(this._opts.cssClass){for(var d=b||"",e=Object.keys(a),f=0;f<e.length;f++)!0===a[e[f]]?d+=" "+e[f]:!1!==a[e[f]]&&null!==a[e[f]]&&(d+=" "+e[f]+"_"+a[e[f]]);return"class='"+d+"'"}var g=this._mkCssProperties(a);switch(b){case"cursor":g+="background:"+this._opts.cursorBg+";",g+="color:"+this._opts.cursorFg+";";break;case"line":g+="overflow:hidden;white-space:nowrap;"}return""===g?"":(c&&c.setAttribute("style",g),"style='"+g+"'")},d.prototype._renderLine=function(a,b){var c,d,f,g,h,i="",j=a.str;if(null!==a.attr[j.length].bg?j+=e.repeat(" ",this.state.columns-j.length):void 0!==b&&b<this.state.columns&&(j+=e.repeat(" ",b+1-j.length)),0===j.length)return"<br />";for(c=0;c<j.length;){if("",d=c++,d in a.attr&&(f=a.attr[d]),b!==d)for(;c<j.length&&!(c in a.attr)&&b!==c;)c++;g=this._mkAttr(f,this.state.getMode("cursor")&&b===d?"cursor":void 0),h=this.escapeHtml(j.substring(d,c)),i+=""!==g?"<span "+g+">"+h+"</span>":h}return"<div "+this._mkAttr(a.attr,"line")+">"+i+"</div>"},d.prototype.toString=function(){var a,b="";for(a=0;a<this.state.rows;a++){var c=this.state.getLine(a);b+="<div style='overflow:hidden'>"+this._renderLine(c)+"</div>"}return b+"<div style='line-height:0;visibility:hidden;'>"+this._genColumnsString()+"</div>"},d.prototype._genColumnsString=function(){return e.repeat("&nbsp;",this.state.columns)},d.canHandle=function(a){return"html"===a}},{"../util":24,"./base":13,util:51}],16:[function(a,b,c){"use strict";function d(a,b,c,e){d.super_.apply(this,arguments);this.target=c,this.writer=b,this._views=[],this._oldViews=[],this._cursorView=null,this._cursorDrawnAt=null,this._timeout=null,this._queue=[];var f=this;a.on("lineremove",function(){f._removeLine.apply(f,arguments)}),a.on("linechange",function(){f._changeLine.apply(f,arguments)}),a.on("lineinsert",function(){f._insertLine.apply(f,arguments)}),a.on("ledchange",function(){f._changeLed.apply(f,arguments)}),a.on("cursormove",function(){f._setCursor.apply(f,arguments)}),a.on("resize",function(){f._resize.apply(f,arguments)}),a.on("bell",function(){f._bell.apply(f,arguments)}),b.on("ready",function(){f._checkCommit()})}var e=a("util").inherits,f=function(){};e(d,a("./base")),b.exports=d,d.prototype._schedule=function(a,b){var c;for(c=0;c<this._queue.length;c++)if(this._queue[c].view===a)return void(this._queue[c].cb=b);this._queue.unshift({view:a,cb:b})},d.prototype._flush=function(a){var b;for(b=0;b<this._queue.length;b++)this._queue[b].cb.call(this,this._queue[b].view);this._queue=[]},d.prototype._updateCursor=function(a,b){if(this._opts.adhesiveCursor&&null!==this._cursorDrawnAt)switch(a){case"insert":b<=this._cursorDrawnAt&&(this._cursorDrawnAt=Math.min(this._cursorDrawnAt+1,this.state.rows-1));break;case"remove":b<this._cursorDrawnAt?this._cursorDrawnAt--:b===this._cursorDrawnAt&&(this._cursorDrawnAt=null)}},d.prototype._removeLine=function(a){var b=this._views.splice(a,1)[0],c=this.removeLine(a,b.view);c&&(b.view=c,this._oldViews.push(b)),this._updateCursor("remove",a)},d.prototype._changeLine=function(a,b,c){this.state.getMode("cursor")||(c=void 0),this._schedule(this._views[a],function(d){var e=this.changeLine(a,d.view,b,c);void 0!==e&&(d.view=e),void 0!==c&&(this._cursorDrawnAt=a)})},d.prototype._insertLine=function(a,b,c){var d=this._oldViews.shift()||{view:this.createView()},e=this.insertLine(a,d.view,b,c);void 0!==e&&(d.view=e),this._views.splice(a,0,d),this._updateCursor("insert",a)},d.prototype._changeLed=function(){this.changeLed.apply(this,arguments)},d.prototype._setCursor=function(a,b){this._cursorView=this.setCursor(a,b)},d.prototype._resize=function(a){this._flush(),this.resize(a)},d.prototype._checkCommit=function(){var a=this,b=arguments;if(!this._opts.renderInterval)return this._commit.apply(this,b);null===this._timeout&&(this._timeout=setTimeout(function(){a._commit.apply(a,b),a._timeout=null},this._opts._renderInterval))},d.prototype._commit=function(){var a=this.state.cursor;a.y!==this._cursorDrawnAt&&null!==this._cursorDrawnAt&&this._changeLine(this._cursorDrawnAt,this.state.getLine(this._cursorDrawnAt)),a.y<this._views.length&&this._changeLine(a.y,this.state.getLine(a.y),a.x),this._flush(),this.commit.apply(this,arguments)},d.prototype._bell=function(){this.bell.apply(this,arguments)},d.prototype.createView=d.prototype.removeLine=d.prototype.changeLine=d.prototype.insertLine=d.prototype.changeLed=d.prototype.setCursor=d.prototype.resize=d.prototype.bell=d.prototype.commit=f},{"./base":13,util:51}],17:[function(a,b,c){"use strict";function d(a,b){d.super_.apply(this,arguments)}var e=a("util").inherits,f=a("../util");e(d,a("./base.js")),b.exports=d,d.prototype.toString=function(){var a="",b=this._opts.locateCursor;b&&(a+=f.repeat(" ",this.state.cursor.x+1)+"v\n");for(var c=0;c<this.state.rows;c++){var d=this.state.getLine(c);b&&(a+=c===this.state.cursor.y?">":" "),a+=d.str+"\n"}return b&&(a+=f.repeat(" ",this.state.cursor.x+1)+"^\n"),a},d.canHandle=function(a){return"plain"===a}},{"../util":24,"./base.js":13,util:51}],18:[function(a,b,c){"use strict";function d(a,b,c,e){this.ansi=new f(a,e),c.stdout&&(c=c.stdout),c.write("[3J[H[?25l"),d.super_.call(this,a,b,c,e),this._opts.adhesiveCursor=!0}var e=(a("../util"),a("util").inherits),f=a("./ansi.js");e(d,a("./live_base.js")),b.exports=d,d.prototype.removeLine=function(a,b){return this.target.write("["+(a+1)+";1H[M"),null},d.prototype.changeLine=function(a,b,c,d){return this.target.write("["+(a+1)+";1H"+this.ansi._renderLine(c,d)),null},d.prototype.insertLine=function(a,b,c,d){return this.target.write("["+(a+1)+";1H[L"),this.changeLine.apply(this,arguments),null},d.prototype.changeLed=function(a,b,c,d){},d.prototype.setCursor=function(a,b){},d.prototype.resize=function(a){},d.prototype.commit=function(){},d.canHandle=function(a){return a.stdout&&(a=a.stdout),"object"==typeof a&&"read"in a&&"on"in a&&a.isTTY}},{"../util":24,"./ansi.js":12,"./live_base.js":16,util:51}],19:[function(a,b,c){"use strict";function d(a,b){var c=arguments[Math.max(1,arguments.length-1)];this.writer=a,this.source=b,this._opts=e.extend({},this._defOpts,c)}var e=a("../util.js");b.exports=d},{"../util.js":24}],20:[function(a,b,c){"use strict";function d(a){return function(){return"function"==typeof this.source[a]?this.source[a].apply(this.source,arguments):(Array.prototype.unshift.call(arguments,a),this.source.emit.apply(this.source,arguments))}}function e(a,b,c){e.super_.apply(this,arguments),this._register()}a("../util");(0,a("util").inherits)(e,a("./base")),b.exports=e,e.prototype._register=function(){var a=this.writer;this.source.on("data",function(b){a.write(b)}).on("exit",function(){a.end()})},e.prototype.write=d("write"),e.prototype.end=d("end"),e.prototype._resize=d("resize"),e.prototype.kill=d("kill"),e.prototype.resize=function(a){return this._resize(a)},e.canHandle=function(a){return a&&"function"==typeof a.addListener&&"function"==typeof a.on}},{"../util":24,"./base":19,util:51}],21:[function(a,b,c){"use strict";function d(a,b){var c,d={};if(b instanceof Array)for(c=0;c<b.length||c<a.length;c++)b[c]!==a[c]&&(d[c]=b[c]);else for(c in b)b[c]!==a[c]&&(d[c]=b[c]);return d}function e(a,b){var c,d,e,f;for(c=Object.keys(a),e=0;e<c.length;e++){if(!b[c[e]])return!1;for(d=Object.keys(a[c[e]]),f=0;f<d.length;f++)if(a[c[e]][d[f]]!==b[c[e]][d[f]])return!1}return!0}function f(a,b){if(this._changes=[],this._cursor=null,this._scrollRegion=null,this._savedCursor=null,this._modes=null,this._leds=null,this._size=null,this._tabs=null,this._columns=null,this._rows=null,"object"==typeof a&&a.getLine)this.oldState=a,this.newState=b,this._mkDiff(a,b),this._mkCursor(a,b),this._mkScrollRegion(a,b),this._mkModes(a,b),this._mkLeds(a,b),this._mkSize(a,b),this._mkTabs(a,b);else if("string"==typeof a){var c=JSON.parse(a);this._loadJson(c)}else this._loadJson(a)}var g=a("./util.js");b.exports=f,f.prototype._mkCursor=function(a,b){a.cursor.x===b.cursor.x&&a.cursor.y===b.cursor.y||(this._cursor=g.extend({},b.cursor)),a._savedCursor.x===b._savedCursor.x&&a._savedCursor.y===b._savedCursor.y||(this._savedCursor=g.extend({},b._savedCursor))},f.prototype._mkScrollRegion=function(a,b){this._scrollRegion=b._scrollRegion.slice()},f.prototype._mkModes=function(a,b){this._modes=d(a._modes,b._modes)},f.prototype._mkLeds=function(a,b){this._leds=d(a._leds,b._leds)},f.prototype._mkSize=function(a,b){a.columns===b.columns&&a.rows===b.rows||(this._rows=b.rows,this._columns=b.columns)},f.prototype._mkTabs=function(a,b){this._tabs=b._tabs.slice()},f.prototype._getChange=function(a){for(var b={l:a},c=this._changes.length-1;c>=0;c--){if(this._changes[c].l===a)return this._changes[c];if(this._changes[c].l<a)return this._changes.splice(c+1,0,b),b}return this._changes.unshift(b),b},f.prototype._cmpLines=function(a,b){return a===b||void 0!==a&&void 0!==b&&(a.str===b.str&&(e(a.attr,b.attr)&&e(b.attr,a.attr)))},f.prototype._mkDiff=function(a,b){var c,d,e,f,g,h,i=Math.max(1,a.getBufferRowCount()),j=Math.max(1,b.getBufferRowCount()),k=-i,l=-1+k,m=new Array(i*j),n=m.slice(0);for(c=0;c<m.length;c++){d=c%i,e=~~(c/i);this._cmpLines(a.getLine(d),b.getLine(e))?n[c]=l:m[c+-1]<=m[c+k]?n[c]=k:n[c]=-1,m[c]=~~(l===n[c])+~~(0===d?0:m[c+n[c]])}for(e=j-1,d=i-1,c=m.length-1;c>=0;d--,e--,c+=n[c]){for(;!isNaN(c)&&n[c]!==l;c+=n[c]);for(g=c%i,h=~~(c/i),isNaN(c)&&(g=h=-1);e>h;d=Math.max(d-1,g),e--)this._getChange(e)[d>g?".":"+"]=b.getLine(e);for(;d>g;d--)f=this._getChange(h+1),f["-"]=(f["-"]||0)+1;0!==d||n[c]!==l&&-1!==n[c]||(n[c]=k)}},f.prototype.toJSON=function(){return{changes:this._changes,cursor:this._cursor,savedCursor:this._savedCursor,leds:this._leds,modes:this._modes,size:this._size,tabs:this._tabs,scrollRegion:this._scrollRegion}},f.prototype.toString=function(){var a,b,c=[],d=0,e=this._changes[0]?this._changes[0].l:0;for(a=0;a<this._changes.length;a++,d++,e++){for(;d<this._changes[a].l;d++,e++)c.push(" "+this.newState.getLine(d).str);for(b=0;b<this._changes[a]["-"];b++)c.push("-"+this.oldState.getLine(e).str);this._changes[a]["+"]&&(c.push("+"+this._changes[a]["+"].str),e--),this._changes[a]["."]&&c.push("."+this._changes[a]["."].str)}return c.join("\n")},f.prototype._loadJson=function(a){this._cursor=a.cursor,this._savedCursor=a.savedCursor,this._scrollRegion=a.scrollRegion,this._modes=a.modes,this._leds=a.leds,this._rows=a.rows,this._columns=a.columns,this._changes=a.changes,this._tabs=a.tabs},f.prototype.apply=function(a){(this._columns||this._rows)&&this._applySize(a),this._cursor&&this._applyCursor(a),this._scrollRegion&&this._applyScrollRegion(a),this._leds&&this._applyLeds(a),this._tabs&&this._applyTabs(a),this._savedCursor&&this._applySavedCursor(a),this._modes&&this._applyModes(a),this._changes&&this._applyChanges(a)},f.prototype._applySize=function(a){a.resize({columns:this._columns,rows:this._rows})},f.prototype._applyCursor=function(a){a.setCursor(this._cursor.x,this._cursor.y)},f.prototype._applyScrollRegion=function(a){a.setScrollRegion(this._scrollRegion[0],this._scrollRegion[1])},f.prototype._applyLeds=function(a){for(var b in this._leds)a.setLed(b,this._leds[b])},f.prototype._applySavedCursor=function(a){a._savedCursor.x=this._savedCursor.x,a._savedCursor.y=this._savedCursor.y},f.prototype._applyTabs=function(a){a.tabs=this._tabs.slice()},f.prototype._applyModes=function(a){for(var b in this._modes)a.setMode(b,this._modes[b])},f.prototype._applyChanges=function(a){for(var b=0;b<this._changes.length;b++){var c=this._changes[b];c["-"]&&a._removeLine(c.l,c["-"]),c["+"]?a._insertLine(c.l,c["+"]):c["."]&&a.setLine(c.l,c["."])}}},{"./util.js":24}],22:[function(a,b,c){"use strict";function d(a){return function(b,c){!0===this["_"+a+"sUsed"]&&(this["_"+a+"s"]=f.extend({},this["_"+a+"s"]),this["_"+a+"sUsed"]=!1);var d=this["_"+a+"s"];if(!(b in d))throw new Error("Unknown "+a+" `"+b+"`");this.emit(a+"change",b,c,d[b]),d[b]=c}}function e(a){e.super_.call(this,{decodeStrings:!1}),a=f.extend({attributes:{}},a),this._defaultAttr=f.extend({fg:null,bg:null,bold:!1,underline:!1,italic:!1,blink:!1,inverse:!1},a.attributes),this._attributesUsed=!0,this.rows=~~a.rows||24,this.columns=~~a.columns||80,this.on("newListener",this._newListener).on("removeListener",this._removeListener).on("pipe",this._pipe),this.reset()}var f=a("./util.js"),g=a("util").inherits,h={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"};g(e,a("stream").Writable),b.exports=e,e.prototype._pipe=function(a){var b=a.emit.bind(a,"resize");this.on("resize",b).on("unpipe",function(a){a.removeListener("resize",b)})},e.prototype._newListener=function(a,b){var c;switch(a){case"lineinsert":for(c=0;c<this.getBufferRowCount();c++)b.call(this,c,this.getLine(c));break;case"resize":b.call(this,{columns:this.columns,rows:this.rows});break;case"cursormove":b.call(this,this.cursor.x,this.cursor.y)}},e.prototype._removeListener=function(a,b){var c;if("lineremove"===a)for(c=0;c<this.getBufferRowCount();c++)b.call(this,0,this.getLine(c))},e.prototype.reset=function(){this._buffer&&this._removeLine(0,this.getBufferRowCount()),this._buffer=this._defBuffer={str:[],attr:[]},this._altBuffer={str:[],attr:[]},this._scrollback={str:[],attr:[]},this._modes={cursor:!0,cursorBlink:!1,appKeypad:!1,wrap:!0,insert:!1,crlf:!1,mousebtn:!1,mousemtn:!1,mousesgr:!1,reverse:!1,graphic:!1},this._charsets={G0:"unicode",G1:"unicode",G2:"unicode",G3:"unicode"},this._mappedCharset="G0",this._mappedCharsetNext="G0",this._metas={title:"",icon:""},this.resetAttribute(),this.cursor={x:0,y:0},this._savedCursor={x:0,y:0},
this._scrollRegion=[0,this.rows-1],this.resetLeds(),this._tabs=[]},e.prototype._createLine=function(a){if(void 0===a||"object"!=typeof a)a=a?a.toString():"",a={str:a,attr:{0:this._defaultAttr}};else if(!a||"string"!=typeof a.str||"object"!=typeof a.attr)throw new Error("line objects must contain attr and str"+a);for(var b in a.attr)isNaN(b)||(b>a.str.length||void 0===a.attr[b])&&delete a.attr[b];return a},e.prototype._write=function(a,b,c){var d,e=a.split("\n"),f=!1,g=this.cursor;for(d=0;d<e.length;d++)f=!1,e[d].length>this.columns-g.x&&(g.x>=this.columns&&(g.x=this.columns-1),this._modes.wrap?(e.splice(d,1,e[d].substr(0,this.columns-g.x),e[d].substr(this.columns-g.x)),f=!0):e[d]=e[d].substr(0,this.columns-g.x-1)+e[d].substr(-1)),this._lineInject(e[d],f),d+1!==e.length&&(g.y++,(this._modes.crlf||f)&&(g.x=0),g.y>this._scrollRegion[1]&&(g.y--,this._removeLine(this._scrollRegion[0]),this._insertLine(this._scrollRegion[1])));return this.setCursor(),c()},e.prototype.mapCharset=function(a,b){this._mappedCharset=a,b||(this._mappedCharsetNext=a),this._modes.graphic="graphics"===this._charsets[this._mappedCharset]},e.prototype.selectCharset=function(a,b){b||(b=this._mappedCharset),this._charsets[b]=a,this._modes.graphic="graphics"===this._charsets[this._mappedCharset]},e.prototype._graphConvert=function(a){if(this._mappedCharset===this._mappedCharsetNext&&!this._modes.graphic)return a;var b,c="";for(b=0;b<a.length;b++)c+=this._modes.graphic&&a[b]in h?h[a[b]]:a[b],this._mappedCharset=this._mappedCharsetNext,this._modes.graphic="graphics"===this._charsets[this._mappedCharset];return c},e.prototype._lineInject=function(a,b){var c,d=this.cursor,e=this.getLine();this._modes.insert?(c=new Array(a.length),c.unshift(e.attr,e.str.length+1,d.x,0),f.objSplice.apply(0,c),e.str=e.str.substr(0,d.x)+f.repeat(" ",d.x-e.str.length)+this._graphConvert(a)+e.str.substr(d.x),e.str=e.str.substr(0,this.columns)):e.str=e.str.substr(0,d.x)+f.repeat(" ",d.x-e.str.length)+this._graphConvert(a)+e.str.substr(d.x+a.length),this._applyAttributes(e,d.x,a.length),b&&(e.attr.wrapped=!0),this.setLine(d.y,e),d.x+=a.length},e.prototype.removeChar=function(a){var b=this.cursor,c=this.getLine(b.y),d=c.attr[c.str.length];f.objSplice(c.attr,c.str.length+1,b.x,a),c.str=c.str.substr(0,b.x)+c.str.substr(b.x+a),c.attr[c.str.length]=d,this.setLine(b.y,c)},e.prototype.insertBlank=function(a){var b=this.cursor,c=this.getLine(b.y),d=c.attr[c.str.length];f.objSplice(c.attr,c.str.length+1,b.x,0,new Array(a)),f.objSplice(c.attr,c.str.length+1,this.columns),c.str=c.str.substr(0,b.x)+f.repeat(" ",a)+c.str.substr(b.x),c.str=c.str.substr(0,this.columns),c.attr[c.str.length]=d,this.setLine(b.y,c)},e.prototype.removeLine=function(a){this._removeLine(this.cursor.y,+a),this._scrollRegion[1]!==this.rows-1&&this.cursor.y<=this._scrollRegion[1]&&this._insertLine(this._scrollRegion[1]+1-a,+a)},e.prototype._removeLine=function(a,b){var c,d,e;for(void 0===b&&(b=1),d=this._buffer.str.splice(a,b),this._scrollback.str.push.call(this._scrollback,d),e=this._buffer.attr.splice(a,b),this._scrollback.attr.push.call(this._scrollback,e),c=0;c<d.length;c++)this.emit("lineremove",a,{str:d[c],attr:e[c]});return b},e.prototype.setLine=function(a,b){"object"==typeof a&&void 0===b&&(b=a,a=this.cursor.y),b=this._createLine(b),this._buffer.str.length<=a?this._insertLine(a,b):(b.str.length>this.columns&&(b.attr[this.columns]=b.attr[b.str.length]),this._buffer.str[a]=b.str.substr(0,this.columns),this._buffer.attr[a]=b.attr,this.emit("linechange",a,b))},e.prototype.insertLine=function(a){this._insertLine(this.cursor.y,+a)},e.prototype._insertLine=function(a,b){var c,d=this.getBufferRowCount(),e=Math.min(d,a),f=a+1;for("number"==typeof b&&(f=a+b,b=void 0),c=e;c<f;c++)this.rows===this.getBufferRowCount()&&this._removeLine(this._scrollRegion[1],1),b=this._createLine(b),this._buffer.str.splice(e,0,b.str),this._buffer.attr.splice(e,0,b.attr),this.emit("lineinsert",e,b),b=void 0},e.prototype._applyAttributes=function(a,b,c){var d,e,f,g,h;for(d=b+c;d>0&&void 0===a.attr[d];d--);for(e=a.attr[d],g=b-1;g>0&&void 0===a.attr[g];g--);for(f=a.attr[g],h=b;h<b+c;h++)delete a.attr[h];return f===this._attributes&&b!==a.str.length||(a.attr[b]=this._attributes),b+c<=this.columns&&(a.attr[b+c]=e),this._attributesUsed=!0,this},e.prototype.setCursor=function(a,b){var c=this.cursor;return"number"!=typeof a&&(a=c.x),"number"!=typeof b&&(b=c.y),a<0?a=0:a>this.columns&&(a=this.columns),b<0?b=0:b>=this.rows&&(b=this.rows-1),c.x===a&&c.y===b&&0!==arguments.length||(c.x=a,c.y=b,this.emit("cursormove",a,b)),this},e.prototype.resize=function(a){var b=this.cursor,c=Math.max(0,this.rows-a.rows),d=this.rows-b.y-1,e=Math.min(c,d),f=c-e;return this._removeLine(this.rows-e,e),this._removeLine(0,f),this.rows=~~a.rows,this.columns=~~a.columns,this.redraw(),this.setScrollRegion(0,this.rows-1),this.emit("resize",{rows:this.rows,columns:this.columns}),this.setCursor(),this},e.prototype.redraw=function(){for(var a=0;a<this._buffer.str.length;a++)this.setLine(a,this.getLine(a))},e.prototype.mvCursor=function(a,b){return(a||b)&&this.setCursor(this.cursor.x+a,this.cursor.y+b),this},e.prototype.scroll=function(a){var b,c=Math.min(Math.abs(a),this._scrollRegion[1]-this._scrollRegion[0]);if(a>0)for(this._removeLine(this._scrollRegion[0],c),b=0;b<c;b++)this._insertLine(this._scrollRegion[1]+1-c);else for(this._removeLine(this._scrollRegion[1]+1-c,c),b=0;b<c;b++)this._insertLine(this._scrollRegion[0])},e.prototype.toString=function(){return this._buffer.str.join("\n")},e.prototype.prevLine=function(){return this.cursor.y===this._scrollRegion[0]?this.scroll(-1):this.mvCursor(0,-1),this},e.prototype.nextLine=function(){return this.cursor.y===this._scrollRegion[1]?this.scroll(1):this.mvCursor(0,1),this},e.prototype.resetAttribute=function(a){return a?this.setAttribute(a,this._defaultAttr[a]):(this._attributesUsed=!0,this._attributes=this._defaultAttr),this},e.prototype.saveCursor=function(){return this._savedCursor.x=this.cursor.x,this._savedCursor.y=this.cursor.y,this},e.prototype.restoreCursor=function(){return this.setCursor(this._savedCursor.x,this._savedCursor.y)},e.prototype.eraseCharacters=function(a){var b=this.cursor,c=this.getLine(b.y);c.str=c.str.substr(0,b.x)+f.repeat(" ",a)+c.str.substr(b.x+a),c.str=c.str.substr(0,this.columns),this._applyAttributes(c,b.x,a),this.setLine(b.y,c)},e.prototype.eraseInDisplay=function(a){var b,c,d=this.cursor,e=this,f=function(){c=e._createLine(),e._applyAttributes(c,0,e.columns),e.setLine(b,c)};switch(a||0){case"below":case"after":case 0:for(a=0,b=d.y+1;b<this.rows;b++)f();break;case"above":case"before":case 1:for(a=1,b=0;b<d.y-1;b++)f();break;case"all":case 2:for(b=0;b<this.rows;b++)f();return this}return this.eraseInLine(a)},e.prototype.eraseInLine=function(a){var b=this.cursor,c=this.getLine();switch(a||0){case"after":case 0:c.str=c.str.substr(0,b.x),this._applyAttributes(c,b.x,this.columns);break;case"before":case 1:c.str=f.repeat(" ",b.x)+c.str.substr(b.x),this._applyAttributes(c,0,b.x);break;case"all":case 2:c=this._createLine()}return this.setLine(b.y,c),this},e.prototype.setScrollRegion=function(a,b){return this._scrollRegion[0]=+a,this._scrollRegion[1]=+b,this},e.prototype.switchBuffer=function(a){var b,c,d;if(a?(c=this._altBuffer,d=this._defBuffer):(c=this._defBuffer,d=this._altBuffer),c!==this._buffer){for(b=c.str.length;b<d.str.length;b++)this.emit("lineremove",c.str.length,this.getLine(b));for(this._buffer=c,b=0;b<c.str.length&&b<d.str.length;b++)this.emit("linechange",c.str.length,this.getLine(b));for(;b<c.str.length;b++)this.emit("lineinsert",b,this.getLine(b));return this}},e.prototype.ledOn=function(a){return this.setLed(a,!0),this},e.prototype.setLed=function(a,b){return a<this._leds.length&&(this._leds[a]=!!b,this.emit("ledchange",Array.apply(null,this._leds))),this},e.prototype.resetLeds=function(){return this._leds=[!1,!1,!1,!1],this.emit("ledchange",Array.apply(null,this._leds)),this},e.prototype.getBufferRowCount=function(){return this._buffer.str.length},e.prototype.getLed=function(a){return this._leds[a]},e.prototype.getLine=function(a){return void 0===a&&(a=this.cursor.y),void 0!==this._buffer.str[a]?{str:this._buffer.str[a],attr:this._buffer.attr[a]}:this._createLine()},e.prototype.getMode=function(a){return this._modes[a]},e.prototype.mvTab=function(a){var b=this.cursor.x,c=this._tabs[this._tabs.length-1]||0,d=a>0;for(a=Math.abs(a);0!==a&&b>0&&b<this.columns-1;)b+=d?1:-1,(~f.indexOf(this._tabs,b)||b>c&&b%8==0)&&a--;this.setCursor(b)},e.prototype.setTab=function(a){void 0===a&&(a=this.cursor.x),~f.indexOf(this._tabs,a)&&(this._tabs.push(a),this._tabs.sort())},e.prototype.removeTab=function(a){var b,c=this._tabs;for(b=0;b<c.length&&c[b]!==a;b++);c.splice(b,1)},e.prototype.tabClear=function(a){switch(a||"current"){case"current":case 0:for(var b=this._tabs.length-1;b>=0;b--)if(this._tabs[b]<this.cursor.x){this._tabs.splice(b,1);break}break;case"all":case 3:this._tabs=[]}},e.prototype.setAttribute=d("attribute"),e.prototype.setMode=d("mode"),e.prototype.setMeta=d("meta")},{"./util.js":24,stream:47,util:51}],23:[function(a,b,c){"use strict";function d(a){d.super_.call(this,{decodeStrings:!1}),this.options=f.extend({columns:80,rows:24,attributes:{}},a||{}),this.rows=~~this.rows,this.columns=~~this.columns,this.state=new g(this.options),this.oldChunk=null,this.on("pipe",this._pipe)}var e=a("util").inherits,f=a("./util"),g=a("./term_state.js"),h=a("./output/dom.js"),i=a("./input/dom.js"),j={plain:a("./output/plain.js"),html:a("./output/html.js"),ansi:a("./output/ansi.js")},k=/^\x1b\[([?!>]?)([0-9;]*)([@A-Za-z`]?)/,l=/^\x1bP([0-9;@A-Za-z`]*)\x1b\\/,m=/^\x1b\]([0-9]*);([^\x07]*)(\x07?)/;e(d,a("stream").Writable),b.exports=d,d.prototype.handlers={chr:a("./handler/chr.js"),esc:a("./handler/esc.js"),csi:a("./handler/csi.js"),sgr:a("./handler/sgr.js"),dcs:a("./handler/dcs.js"),mode:a("./handler/mode.js"),osc:a("./handler/osc.js")},d.prototype._pipe=function(a){var b=function(b){"function"==typeof a.resize&&a.resize(b.columns,b.rows),a.emit("resize",b)};this.on("resize",b).on("unpipe",function(a){a.removeListener("resize",b)})},d.prototype._write=function(a,b,c){var d=1;for("string"!=typeof a&&(a=a.toString()),null!==this.oldChunk&&(a=this.oldChunk+a,this.oldChunk=null);a.length>0&&d>0;){if(null===(d=this.callHandler("chr",a[0],a))){for(d=1;d<a.length&&!(a[d]in this.handlers.chr);d++);this.state.write(a.substr(0,d))}d>0&&(a=a.slice(d))}0!==a.length&&(this.oldChunk=a),this.emit("ready"),c()},d.prototype.callHandler=function(a,b){var c,d=Array.prototype.slice.call(arguments,1);return a in this.handlers&&b in this.handlers[a]?("string"==typeof this.handlers[a][b]&&(b=this.handlers[a][b]),c=this.handlers[a][b].apply(this,d),void 0===c?1:c):null},d.prototype.parseCsi=function(a){var b,c=k.exec(a);if(null===c)return null;var d=""===c[2]?[]:c[2].split(";");for(b=0;b<d.length;b++)d[b]=+d[b];return{args:d,mod:c[1],cmd:c[3],length:c[0].length}},d.prototype.parseOsc=function(a){var b=m.exec(a);return null===b?null:{args:b[2].split(";"),cmd:b[1],terminated:""===b[3],length:b[0].length}},d.prototype.parseDcs=function(a){var b=l.exec(a);return null===b?null:{args:[null,null],mod:b[1],cmd:b[1],length:b[0].length}},d.prototype.dom=function(a,b){var c=new i(a,this.state,b);new h(this.state,this,a,b);return c},d.prototype.toString=function(a){return"string"!=typeof a?this.state.toString.apply(this.state,arguments):new j[a](this.state).toString()}},{"./handler/chr.js":2,"./handler/csi.js":3,"./handler/dcs.js":4,"./handler/esc.js":5,"./handler/mode.js":6,"./handler/osc.js":7,"./handler/sgr.js":8,"./input/dom.js":10,"./output/ansi.js":12,"./output/dom.js":14,"./output/html.js":15,"./output/plain.js":17,"./term_state.js":22,"./util":24,stream:47,util:51}],24:[function(a,b,c){"use strict";var d=Array.prototype;c.extend=function(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a},c.repeat=function(a,b){var c,d="";for(c=0;c<b;c++)d+=a;return d},c.objSplice=function(a,b,c,e,f){var g=d.splice,h=[c,e];d.push.apply(h,f),a.length=b,g.apply(a,h),delete a.length},c.indexOf=d.indexOf?function(){var a=d.slice.call(arguments);return d.indexOf.apply(a.shift(),a)}:function(a,b){for(var c=0;c<this.length;c++)if(this[c]===b)return c;return-1}},{}],25:[function(a,b,c){"use strict";function d(a){var b,c,d,e,f,g,h=a.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");f="="===a[h-2]?2:"="===a[h-1]?1:0,g=new j(3*h/4-f),d=f>0?h-4:h;var k=0;for(b=0,c=0;b<d;b+=4,c+=3)e=i[a.charCodeAt(b)]<<18|i[a.charCodeAt(b+1)]<<12|i[a.charCodeAt(b+2)]<<6|i[a.charCodeAt(b+3)],g[k++]=e>>16&255,g[k++]=e>>8&255,g[k++]=255&e;return 2===f?(e=i[a.charCodeAt(b)]<<2|i[a.charCodeAt(b+1)]>>4,g[k++]=255&e):1===f&&(e=i[a.charCodeAt(b)]<<10|i[a.charCodeAt(b+1)]<<4|i[a.charCodeAt(b+2)]>>2,g[k++]=e>>8&255,g[k++]=255&e),g}function e(a){return h[a>>18&63]+h[a>>12&63]+h[a>>6&63]+h[63&a]}function f(a,b,c){for(var d,f=[],g=b;g<c;g+=3)d=(a[g]<<16)+(a[g+1]<<8)+a[g+2],f.push(e(d));return f.join("")}function g(a){for(var b,c=a.length,d=c%3,e="",g=[],i=0,j=c-d;i<j;i+=16383)g.push(f(a,i,i+16383>j?j:i+16383));return 1===d?(b=a[c-1],e+=h[b>>2],e+=h[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=h[b>>10],e+=h[b>>4&63],e+=h[b<<2&63],e+="="),g.push(e),g.join("")}c.toByteArray=d,c.fromByteArray=g;var h=[],i=[],j="undefined"!=typeof Uint8Array?Uint8Array:Array;!function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,c=a.length;b<c;++b)h[b]=a[b],i[a.charCodeAt(b)]=b;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}()},{}],26:[function(a,b,c){},{}],27:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},c.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},c.from=function(a,c,d){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(a,c,d);if("number"==typeof a)throw new TypeError('"value" argument must not be a number');if("string"==typeof a)return new e(a,c);if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(a);void 0===f&&(f=0);var g=d;if(void 0===g&&(g=a.byteLength-f),f>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(g>a.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(a.slice(f,f+g))}if(e.isBuffer(a)){var h=new e(a.length);return a.copy(h,0,0,a.length),h}if(a){if(Array.isArray(a)||"undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new e(a);if("Buffer"===a.type&&Array.isArray(a.data))return new e(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:28}],28:[function(a,b,c){(function(b){"use strict";function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=a("base64-js"),Z=a("ieee754"),$=a("isarray");c.Buffer=f,c.SlowBuffer=p,c.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),c.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b|=0,c|=0,!d){J(this,a,b,c,Math.pow(2,8*c)-1,0)}var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),
f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":25,ieee754:31,isarray:34}],29:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":33}],30:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace()),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],31:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],32:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],33:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],34:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],35:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:36}],36:[function(a,b,c){function d(a){if(j===setTimeout)return setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function e(a){if(k===clearTimeout)return clearTimeout(a);try{return k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=d(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,e(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=b.exports={};!function(){try{j=setTimeout}catch(a){j=function(){throw new Error("setTimeout is not defined")}}try{k=clearTimeout}catch(a){k=function(){throw new Error("clearTimeout is not defined")}}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||d(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],37:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":38}],38:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":40,"./_stream_writable":42,"core-util-is":29,inherits:32,"process-nextick-args":35}],39:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":41,"core-util-is":29,inherits:32}],40:[function(a,b,c){(function(c){"use strict";function d(a,b,c){if(M)return a.prependListener(b,c);a._events&&a._events[b]?B(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function e(b,c){L=L||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof L&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(K||(K=a("string_decoder/").StringDecoder),this.decoder=new K(b.encoding),this.encoding=b.encoding)}function f(b){if(L=L||a("./_stream_duplex"),!(this instanceof f))return new f(b);this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),C.call(this)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=N?a=N:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return 0===b.length&&b.ended?0:b.objectMode?0===a?0:1:null===a||isNaN(a)?b.flowing&&b.buffer.length?b.buffer[0].length:b.length:a<=0?0:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a>b.length?b.ended?b.length:(b.needReadable=!0,0):a)}function k(a,b){var c=null;return F.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(J("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?A(n,a):n(a))}function n(a){J("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,A(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(J("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;J("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&E(a,"data")&&(b.flowing=!0,u(a))}}function r(a){J("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,A(t,a,b))}function t(a,b){b.reading||(J("resume read 0"),a.read(0)),b.resumeScheduled=!1,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;if(J("flow",b.flowing),b.flowing)do{var c=a.read()}while(null!==c&&b.flowing)}function v(a,b){var c,d=b.buffer,e=b.length,f=!!b.decoder,g=!!b.objectMode;if(0===d.length)return null;if(0===e)c=null;else if(g)c=d.shift();else if(!a||a>=e)c=f?d.join(""):1===d.length?d[0]:F.concat(d,e),d.length=0;else if(a<d[0].length){var h=d[0];c=h.slice(0,a),d[0]=h.slice(a)}else if(a===d[0].length)c=d.shift();else{c=f?"":G.allocUnsafe(a);for(var i=0,j=0,k=d.length;j<k&&i<a;j++){var l=d[0],m=Math.min(a-i,l.length);f?c+=l.slice(0,m):l.copy(c,i,0,m),m<l.length?d[0]=l.slice(m):d.shift(),i+=m}}return c}function w(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,A(x,b,a))}function x(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function y(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function z(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=f;var A=a("process-nextick-args"),B=a("isarray");f.ReadableState=e;var C,D=a("events").EventEmitter,E=function(a,b){return a.listeners(b).length};!function(){try{C=a("stream")}catch(a){}finally{C||(C=a("events").EventEmitter)}}();var F=a("buffer").Buffer,G=a("buffer-shims"),H=a("core-util-is");H.inherits=a("inherits");var I=a("util"),J=void 0;J=I&&I.debuglog?I.debuglog("stream"):function(){};var K;H.inherits(f,C);var L,L,M="function"==typeof D.prototype.prependListener;f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding)!==c.encoding&&(a=G.from(a,b),b=""),g(this,c,a,b,!1)},f.prototype.unshift=function(a){return g(this,this._readableState,a,"",!0)},f.prototype.isPaused=function(){return!1===this._readableState.flowing},f.prototype.setEncoding=function(b){return K||(K=a("string_decoder/").StringDecoder),this._readableState.decoder=new K(b),this._readableState.encoding=b,this};var N=8388608;f.prototype.read=function(a){J("read",a);var b=this._readableState,c=a;if(("number"!=typeof a||a>0)&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return J("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?w(this):m(this),null;if(0===(a=j(a,b))&&b.ended)return 0===b.length&&w(this),null;var d=b.needReadable;J("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,J("length less than watermark",d)),(b.ended||b.reading)&&(d=!1,J("reading or ended",d)),d&&(J("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1),d&&!b.reading&&(a=j(c,b));var e;return e=a>0?v(a,b):null,null===e&&(b.needReadable=!0,a=0),b.length-=a,0!==b.length||b.ended||(b.needReadable=!0),c!==a&&b.ended&&0===b.length&&w(this),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("not implemented"))},f.prototype.pipe=function(a,b){function e(a){J("onunpipe"),a===m&&g()}function f(){J("onend"),a.end()}function g(){J("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){J("ondata"),!1===a.write(b)&&((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==z(n.pipes,a))&&!s&&(J("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++),m.pause())}function i(b){J("onerror",b),l(),a.removeListener("error",i),0===E(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){J("onfinish"),a.removeListener("close",j),l()}function l(){J("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,J("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?f:g;n.endEmitted?A(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(J("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=z(b.pipes,a);return-1===f?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=C.prototype.on.call(this,a,b);if("data"===a&&!1!==this._readableState.flowing&&this.resume(),"readable"===a&&!this._readableState.endEmitted){var d=this._readableState;d.readableListening||(d.readableListening=!0,d.emittedReadable=!1,d.needReadable=!0,d.reading?d.length&&m(this):A(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(J("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return J("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(J("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(J("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(J("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){d.push(e)||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));return y(["error","close","destroy","pause","resume"],function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){J("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":38,_process:36,buffer:28,"buffer-shims":27,"core-util-is":29,events:30,inherits:32,isarray:34,"process-nextick-args":35,"string_decoder/":48,util:26}],41:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a){g(b,a)}):g(b)})}function g(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=a._transformState;if(c.length)throw new Error("Calling transform done when ws.length != 0");if(d.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("Not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":38,"core-util-is":29,inherits:32}],42:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){E=E||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof E&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=!1===b.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){if(E=E||a("./_stream_duplex"),!(this instanceof g||this instanceof E))return new g(b);this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),A.call(this)}function h(a,b){var c=new Error("write after end");a.emit("error",c),x(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):C.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),x(d,f),e=!1),e}function j(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=D.from(b,c)),b}function k(a,b,c,d,f){c=j(b,c,d),C.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new e(c,d,f),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,g,c,d,f);return h}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?x(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?y(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback;if(l(a,b,!1,b.objectMode?1:h.length,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?x(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x=a("process-nextick-args"),y=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:x;g.WritableState=f;var z=a("core-util-is");z.inherits=a("inherits");var A,B={deprecate:a("util-deprecate")};!function(){try{A=a("stream")}catch(a){}finally{A||(A=a("events").EventEmitter)}}();var C=a("buffer").Buffer,D=a("buffer-shims");z.inherits(g,A);var E;f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var E;g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),C.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):i(this,e,a,c)&&(e.pendingcb++,f=k(this,e,a,b,c)),f},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":38,_process:36,buffer:28,"buffer-shims":27,"core-util-is":29,events:30,inherits:32,"process-nextick-args":35,"util-deprecate":49}],43:[function(a,b,c){b.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":39}],44:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(a){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":38,"./lib/_stream_passthrough.js":39,"./lib/_stream_readable.js":40,"./lib/_stream_transform.js":41,"./lib/_stream_writable.js":42,_process:36}],45:[function(a,b,c){b.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":41}],46:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":42}],47:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter;a("inherits")(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,
d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&!1===b.end||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:30,inherits:32,"readable-stream/duplex.js":37,"readable-stream/passthrough.js":43,"readable-stream/readable.js":44,"readable-stream/transform.js":45,"readable-stream/writable.js":46}],48:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:28}],49:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],51:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){r=" [Function"+(b.name?": "+b.name:"")+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var v;return v=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),I[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(/%[sdj%]/g,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var g=!1;return f};var G,H={};c.debuglog=function(a){if(v(G)&&(G=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!H[a])if(new RegExp("\\b"+a+"\\b","i").test(G)){var d=b.pid;H[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else H[a]=function(){};return H[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":50,_process:36,inherits:32}]},{},[1])(1)});